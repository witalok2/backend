{"remainingRequest":"/home/witalo/go/src/github.com/witalok2/application/frontend/node_modules/babel-loader/lib/index.js!/home/witalo/go/src/github.com/witalok2/application/frontend/node_modules/quasar/src/components/menu/QMenu.js","dependencies":[{"path":"/home/witalo/go/src/github.com/witalok2/application/frontend/node_modules/quasar/src/components/menu/QMenu.js","mtime":499162500000},{"path":"/home/witalo/go/src/github.com/witalok2/application/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/witalo/go/src/github.com/witalok2/application/frontend/node_modules/babel-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es7.object.get-own-property-descriptors\";\nimport \"core-js/modules/web.dom.iterable\";\nimport \"core-js/modules/es6.object.keys\";\nimport _defineProperty from \"/home/witalo/go/src/github.com/witalok2/application/frontend/node_modules/@babel/runtime-corejs2/helpers/esm/defineProperty\";\nimport \"core-js/modules/es6.string.anchor\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(source, true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(source).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport Vue from 'vue';\nimport AnchorMixin from \"../../mixins/anchor.js\";\nimport ModelToggleMixin from \"../../mixins/model-toggle.js\";\nimport PortalMixin, { closePortalMenus } from \"../../mixins/portal.js\";\nimport TransitionMixin from \"../../mixins/transition.js\";\nimport ClickOutside from \"./ClickOutside.js\";\nimport { getScrollTarget } from \"../../utils/scroll.js\";\nimport { create, stop, position, listenOpts, stopAndPrevent } from \"../../utils/event.js\";\nimport EscapeKey from \"../../utils/escape-key.js\";\nimport slot from \"../../utils/slot.js\";\nimport { validatePosition, validateOffset, setPosition, parsePosition } from \"../../utils/position-engine.js\";\nexport default Vue.extend({\n  name: 'QMenu',\n  mixins: [AnchorMixin, ModelToggleMixin, PortalMixin, TransitionMixin],\n  directives: {\n    ClickOutside: ClickOutside\n  },\n  props: {\n    persistent: Boolean,\n    autoClose: Boolean,\n    separateClosePopup: Boolean,\n    noRefocus: Boolean,\n    noFocus: Boolean,\n    fit: Boolean,\n    cover: Boolean,\n    square: Boolean,\n    anchor: {\n      type: String,\n      validator: validatePosition\n    },\n    self: {\n      type: String,\n      validator: validatePosition\n    },\n    offset: {\n      type: Array,\n      validator: validateOffset\n    },\n    touchPosition: Boolean,\n    maxHeight: {\n      type: String,\n      default: null\n    },\n    maxWidth: {\n      type: String,\n      default: null\n    }\n  },\n  computed: {\n    horizSide: function horizSide() {\n      return this.$q.lang.rtl ? 'right' : 'left';\n    },\n    anchorOrigin: function anchorOrigin() {\n      return parsePosition(this.anchor || (this.cover === true ? \"center middle\" : \"bottom \".concat(this.horizSide)));\n    },\n    selfOrigin: function selfOrigin() {\n      return this.cover === true ? this.anchorOrigin : parsePosition(this.self || \"top \".concat(this.horizSide));\n    },\n    menuClass: function menuClass() {\n      return this.square === true ? ' q-menu--square' : '';\n    },\n    hideOnRouteChange: function hideOnRouteChange() {\n      return this.persistent !== true;\n    }\n  },\n  methods: {\n    focus: function focus() {\n      var node = this.__portal !== void 0 && this.__portal.$refs !== void 0 ? this.__portal.$refs.inner : void 0;\n\n      if (node !== void 0 && node.contains(document.activeElement) !== true) {\n        node = node.querySelector('[autofocus]') || node;\n        node.focus();\n      }\n    },\n    __show: function __show(evt) {\n      var _this = this;\n\n      // IE can have null document.activeElement\n      this.__refocusTarget = this.noRefocus === false && document.activeElement !== null ? document.activeElement : void 0;\n      EscapeKey.register(this, function () {\n        if (_this.persistent !== true) {\n          _this.$emit('escape-key');\n\n          _this.hide();\n        }\n      });\n\n      this.__showPortal();\n\n      this.__configureScrollTarget();\n\n      this.absoluteOffset = void 0;\n\n      if (evt !== void 0 && (this.touchPosition || this.contextMenu)) {\n        var pos = position(evt);\n\n        if (pos.left !== void 0) {\n          var _this$anchorEl$getBou = this.anchorEl.getBoundingClientRect(),\n              top = _this$anchorEl$getBou.top,\n              left = _this$anchorEl$getBou.left;\n\n          this.absoluteOffset = {\n            left: pos.left - left,\n            top: pos.top - top\n          };\n        }\n      }\n\n      if (this.unwatch === void 0) {\n        this.unwatch = this.$watch('$q.screen.width', this.updatePosition);\n      }\n\n      this.$el.dispatchEvent(create('popup-show', {\n        bubbles: true\n      })); // IE can have null document.activeElement\n\n      if (this.noFocus !== true && document.activeElement !== null) {\n        document.activeElement.blur();\n      }\n\n      this.__nextTick(function () {\n        _this.updatePosition();\n\n        _this.noFocus !== true && _this.focus();\n      });\n\n      this.__setTimeout(function () {\n        _this.$emit('show', evt);\n      }, 300);\n    },\n    __hide: function __hide(evt) {\n      var _this2 = this;\n\n      this.__anchorCleanup(true); // check null for IE\n\n\n      if (this.__refocusTarget !== void 0 && this.__refocusTarget !== null) {\n        this.__refocusTarget.focus();\n      }\n\n      this.$el.dispatchEvent(create('popup-hide', {\n        bubbles: true\n      }));\n\n      this.__setTimeout(function () {\n        _this2.__hidePortal();\n\n        _this2.$emit('hide', evt);\n      }, 300);\n    },\n    __anchorCleanup: function __anchorCleanup(hiding) {\n      this.absoluteOffset = void 0;\n\n      if (this.unwatch !== void 0) {\n        this.unwatch();\n        this.unwatch = void 0;\n      }\n\n      if (hiding === true || this.showing === true) {\n        EscapeKey.pop(this);\n\n        this.__unconfigureScrollTarget();\n      }\n    },\n    __unconfigureScrollTarget: function __unconfigureScrollTarget() {\n      if (this.scrollTarget !== void 0) {\n        this.scrollTarget.removeEventListener('scroll', this.updatePosition, listenOpts.passive);\n\n        if (this.scrollTarget !== window) {\n          window.removeEventListener('scroll', this.updatePosition, listenOpts.passive);\n        }\n      }\n    },\n    __configureScrollTarget: function __configureScrollTarget() {\n      if (this.anchorEl !== void 0) {\n        this.scrollTarget = getScrollTarget(this.anchorEl);\n        this.scrollTarget.addEventListener('scroll', this.updatePosition, listenOpts.passive);\n\n        if (this.scrollTarget !== window) {\n          window.addEventListener('scroll', this.updatePosition, listenOpts.passive);\n        }\n      }\n    },\n    __onAutoClose: function __onAutoClose(e) {\n      closePortalMenus(this, e);\n      this.$listeners.click !== void 0 && this.$emit('click', e);\n    },\n    updatePosition: function updatePosition() {\n      if (this.__portal === void 0) {\n        return;\n      }\n\n      var el = this.__portal.$el;\n\n      if (el.nodeType === 8) {\n        // IE replaces the comment with delay\n        setTimeout(this.updatePosition, 25);\n        return;\n      }\n\n      setPosition({\n        el: el,\n        offset: this.offset,\n        anchorEl: this.anchorEl,\n        anchorOrigin: this.anchorOrigin,\n        selfOrigin: this.selfOrigin,\n        absoluteOffset: this.absoluteOffset,\n        fit: this.fit,\n        cover: this.cover,\n        maxHeight: this.maxHeight,\n        maxWidth: this.maxWidth\n      });\n    },\n    __onClickOutside: function __onClickOutside(e) {\n      if (this.persistent !== true && this.showing === true) {\n        this.hide(e);\n        stopAndPrevent(e);\n        return true;\n      }\n    },\n    __renderPortal: function __renderPortal(h) {\n      var on = _objectSpread({}, this.$listeners, {\n        // stop propagating this events from children\n        input: stop,\n        'popup-show': stop,\n        'popup-hide': stop\n      });\n\n      if (this.autoClose === true) {\n        on.click = this.__onAutoClose;\n      }\n\n      return h('transition', {\n        props: {\n          name: this.transition\n        }\n      }, [this.showing === true ? h('div', {\n        ref: 'inner',\n        staticClass: 'q-menu scroll' + this.menuClass,\n        class: this.contentClass,\n        style: this.contentStyle,\n        attrs: _objectSpread({\n          tabindex: -1\n        }, this.$attrs),\n        on: on,\n        directives: [{\n          name: 'click-outside',\n          value: this.__onClickOutside,\n          arg: this.anchorEl\n        }]\n      }, slot(this, 'default')) : null]);\n    }\n  },\n  mounted: function mounted() {\n    this.__processModelChange(this.value);\n  },\n  beforeDestroy: function beforeDestroy() {\n    // When the menu is destroyed while open we can only emit the event on anchorEl\n    if (this.showing === true && this.anchorEl !== void 0) {\n      this.anchorEl.dispatchEvent(create('popup-hide', {\n        bubbles: true\n      }));\n    }\n  }\n});",{"version":3,"sources":["/home/witalo/go/src/github.com/witalok2/application/frontend/node_modules/quasar/src/components/menu/QMenu.js"],"names":["Vue","AnchorMixin","ModelToggleMixin","PortalMixin","closePortalMenus","TransitionMixin","ClickOutside","getScrollTarget","create","stop","position","listenOpts","stopAndPrevent","EscapeKey","slot","validatePosition","validateOffset","setPosition","parsePosition","extend","name","mixins","directives","props","persistent","Boolean","autoClose","separateClosePopup","noRefocus","noFocus","fit","cover","square","anchor","type","String","validator","self","offset","Array","touchPosition","maxHeight","default","maxWidth","computed","horizSide","$q","lang","rtl","anchorOrigin","selfOrigin","menuClass","hideOnRouteChange","methods","focus","node","__portal","$refs","inner","contains","document","activeElement","querySelector","__show","evt","__refocusTarget","register","$emit","hide","__showPortal","__configureScrollTarget","absoluteOffset","contextMenu","pos","left","anchorEl","getBoundingClientRect","top","unwatch","$watch","updatePosition","$el","dispatchEvent","bubbles","blur","__nextTick","__setTimeout","__hide","__anchorCleanup","__hidePortal","hiding","showing","pop","__unconfigureScrollTarget","scrollTarget","removeEventListener","passive","window","addEventListener","__onAutoClose","e","$listeners","click","el","nodeType","setTimeout","__onClickOutside","__renderPortal","h","on","input","transition","ref","staticClass","class","contentClass","style","contentStyle","attrs","tabindex","$attrs","value","arg","mounted","__processModelChange","beforeDestroy"],"mappings":"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","sourcesContent":["import Vue from 'vue'\n\nimport AnchorMixin from '../../mixins/anchor.js'\nimport ModelToggleMixin from '../../mixins/model-toggle.js'\nimport PortalMixin, { closePortalMenus } from '../../mixins/portal.js'\nimport TransitionMixin from '../../mixins/transition.js'\n\nimport ClickOutside from './ClickOutside.js'\nimport { getScrollTarget } from '../../utils/scroll.js'\nimport { create, stop, position, listenOpts, stopAndPrevent } from '../../utils/event.js'\nimport EscapeKey from '../../utils/escape-key.js'\n\nimport slot from '../../utils/slot.js'\n\nimport {\n  validatePosition, validateOffset, setPosition, parsePosition\n} from '../../utils/position-engine.js'\n\nexport default Vue.extend({\n  name: 'QMenu',\n\n  mixins: [ AnchorMixin, ModelToggleMixin, PortalMixin, TransitionMixin ],\n\n  directives: {\n    ClickOutside\n  },\n\n  props: {\n    persistent: Boolean,\n    autoClose: Boolean,\n    separateClosePopup: Boolean,\n\n    noRefocus: Boolean,\n    noFocus: Boolean,\n\n    fit: Boolean,\n    cover: Boolean,\n\n    square: Boolean,\n\n    anchor: {\n      type: String,\n      validator: validatePosition\n    },\n    self: {\n      type: String,\n      validator: validatePosition\n    },\n    offset: {\n      type: Array,\n      validator: validateOffset\n    },\n\n    touchPosition: Boolean,\n\n    maxHeight: {\n      type: String,\n      default: null\n    },\n    maxWidth: {\n      type: String,\n      default: null\n    }\n  },\n\n  computed: {\n    horizSide () {\n      return this.$q.lang.rtl ? 'right' : 'left'\n    },\n\n    anchorOrigin () {\n      return parsePosition(\n        this.anchor || (\n          this.cover === true ? `center middle` : `bottom ${this.horizSide}`\n        )\n      )\n    },\n\n    selfOrigin () {\n      return this.cover === true\n        ? this.anchorOrigin\n        : parsePosition(this.self || `top ${this.horizSide}`)\n    },\n\n    menuClass () {\n      return this.square === true ? ' q-menu--square' : ''\n    },\n\n    hideOnRouteChange () {\n      return this.persistent !== true\n    }\n  },\n\n  methods: {\n    focus () {\n      let node = this.__portal !== void 0 && this.__portal.$refs !== void 0\n        ? this.__portal.$refs.inner\n        : void 0\n\n      if (node !== void 0 && node.contains(document.activeElement) !== true) {\n        node = node.querySelector('[autofocus]') || node\n        node.focus()\n      }\n    },\n\n    __show (evt) {\n      // IE can have null document.activeElement\n      this.__refocusTarget = this.noRefocus === false && document.activeElement !== null\n        ? document.activeElement\n        : void 0\n\n      EscapeKey.register(this, () => {\n        if (this.persistent !== true) {\n          this.$emit('escape-key')\n          this.hide()\n        }\n      })\n\n      this.__showPortal()\n      this.__configureScrollTarget()\n\n      this.absoluteOffset = void 0\n\n      if (evt !== void 0 && (this.touchPosition || this.contextMenu)) {\n        const pos = position(evt)\n\n        if (pos.left !== void 0) {\n          const { top, left } = this.anchorEl.getBoundingClientRect()\n          this.absoluteOffset = { left: pos.left - left, top: pos.top - top }\n        }\n      }\n\n      if (this.unwatch === void 0) {\n        this.unwatch = this.$watch('$q.screen.width', this.updatePosition)\n      }\n\n      this.$el.dispatchEvent(create('popup-show', { bubbles: true }))\n\n      // IE can have null document.activeElement\n      if (this.noFocus !== true && document.activeElement !== null) {\n        document.activeElement.blur()\n      }\n\n      this.__nextTick(() => {\n        this.updatePosition()\n        this.noFocus !== true && this.focus()\n      })\n\n      this.__setTimeout(() => {\n        this.$emit('show', evt)\n      }, 300)\n    },\n\n    __hide (evt) {\n      this.__anchorCleanup(true)\n\n      // check null for IE\n      if (this.__refocusTarget !== void 0 && this.__refocusTarget !== null) {\n        this.__refocusTarget.focus()\n      }\n\n      this.$el.dispatchEvent(create('popup-hide', { bubbles: true }))\n\n      this.__setTimeout(() => {\n        this.__hidePortal()\n        this.$emit('hide', evt)\n      }, 300)\n    },\n\n    __anchorCleanup (hiding) {\n      this.absoluteOffset = void 0\n\n      if (this.unwatch !== void 0) {\n        this.unwatch()\n        this.unwatch = void 0\n      }\n\n      if (hiding === true || this.showing === true) {\n        EscapeKey.pop(this)\n        this.__unconfigureScrollTarget()\n      }\n    },\n\n    __unconfigureScrollTarget () {\n      if (this.scrollTarget !== void 0) {\n        this.scrollTarget.removeEventListener('scroll', this.updatePosition, listenOpts.passive)\n        if (this.scrollTarget !== window) {\n          window.removeEventListener('scroll', this.updatePosition, listenOpts.passive)\n        }\n      }\n    },\n\n    __configureScrollTarget () {\n      if (this.anchorEl !== void 0) {\n        this.scrollTarget = getScrollTarget(this.anchorEl)\n        this.scrollTarget.addEventListener('scroll', this.updatePosition, listenOpts.passive)\n        if (this.scrollTarget !== window) {\n          window.addEventListener('scroll', this.updatePosition, listenOpts.passive)\n        }\n      }\n    },\n\n    __onAutoClose (e) {\n      closePortalMenus(this, e)\n      this.$listeners.click !== void 0 && this.$emit('click', e)\n    },\n\n    updatePosition () {\n      if (this.__portal === void 0) {\n        return\n      }\n\n      const el = this.__portal.$el\n\n      if (el.nodeType === 8) { // IE replaces the comment with delay\n        setTimeout(this.updatePosition, 25)\n        return\n      }\n\n      setPosition({\n        el,\n        offset: this.offset,\n        anchorEl: this.anchorEl,\n        anchorOrigin: this.anchorOrigin,\n        selfOrigin: this.selfOrigin,\n        absoluteOffset: this.absoluteOffset,\n        fit: this.fit,\n        cover: this.cover,\n        maxHeight: this.maxHeight,\n        maxWidth: this.maxWidth\n      })\n    },\n\n    __onClickOutside (e) {\n      if (this.persistent !== true && this.showing === true) {\n        this.hide(e)\n        stopAndPrevent(e)\n        return true\n      }\n    },\n\n    __renderPortal (h) {\n      const on = {\n        ...this.$listeners,\n        // stop propagating this events from children\n        input: stop,\n        'popup-show': stop,\n        'popup-hide': stop\n      }\n\n      if (this.autoClose === true) {\n        on.click = this.__onAutoClose\n      }\n\n      return h('transition', {\n        props: { name: this.transition }\n      }, [\n        this.showing === true ? h('div', {\n          ref: 'inner',\n          staticClass: 'q-menu scroll' + this.menuClass,\n          class: this.contentClass,\n          style: this.contentStyle,\n          attrs: {\n            tabindex: -1,\n            ...this.$attrs\n          },\n          on,\n          directives: [{\n            name: 'click-outside',\n            value: this.__onClickOutside,\n            arg: this.anchorEl\n          }]\n        }, slot(this, 'default')) : null\n      ])\n    }\n  },\n\n  mounted () {\n    this.__processModelChange(this.value)\n  },\n\n  beforeDestroy () {\n    // When the menu is destroyed while open we can only emit the event on anchorEl\n    if (this.showing === true && this.anchorEl !== void 0) {\n      this.anchorEl.dispatchEvent(\n        create('popup-hide', { bubbles: true })\n      )\n    }\n  }\n})\n"]}]}