{"remainingRequest":"/home/witalo/go/src/github.com/witalok2/application/frontend/node_modules/babel-loader/lib/index.js!/home/witalo/go/src/github.com/witalok2/application/frontend/node_modules/quasar/src/components/dialog/QDialog.js","dependencies":[{"path":"/home/witalo/go/src/github.com/witalok2/application/frontend/node_modules/quasar/src/components/dialog/QDialog.js","mtime":499162500000},{"path":"/home/witalo/go/src/github.com/witalok2/application/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/witalo/go/src/github.com/witalok2/application/frontend/node_modules/babel-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es7.object.get-own-property-descriptors\";\nimport \"core-js/modules/web.dom.iterable\";\nimport \"core-js/modules/es6.object.keys\";\nimport _defineProperty from \"/home/witalo/go/src/github.com/witalok2/application/frontend/node_modules/@babel/runtime-corejs2/helpers/esm/defineProperty\";\nimport \"core-js/modules/es7.array.includes\";\nimport \"core-js/modules/es6.string.includes\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(source, true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(source).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport Vue from 'vue';\nimport HistoryMixin from \"../../mixins/history.js\";\nimport ModelToggleMixin from \"../../mixins/model-toggle.js\";\nimport PortalMixin from \"../../mixins/portal.js\";\nimport PreventScrollMixin from \"../../mixins/prevent-scroll.js\";\nimport { childHasFocus } from \"../../utils/dom.js\";\nimport EscapeKey from \"../../utils/escape-key.js\";\nimport slot from \"../../utils/slot.js\";\nimport { create, stop, stopAndPrevent } from \"../../utils/event.js\";\nvar maximizedModals = 0;\nvar positionClass = {\n  standard: 'fixed-full flex-center',\n  top: 'fixed-top justify-center',\n  bottom: 'fixed-bottom justify-center',\n  right: 'fixed-right items-center',\n  left: 'fixed-left items-center'\n};\nvar transitions = {\n  standard: ['scale', 'scale'],\n  top: ['slide-down', 'slide-up'],\n  bottom: ['slide-up', 'slide-down'],\n  right: ['slide-left', 'slide-right'],\n  left: ['slide-right', 'slide-left']\n};\nexport default Vue.extend({\n  name: 'QDialog',\n  mixins: [HistoryMixin, ModelToggleMixin, PortalMixin, PreventScrollMixin],\n  props: {\n    persistent: Boolean,\n    autoClose: Boolean,\n    noEscDismiss: Boolean,\n    noBackdropDismiss: Boolean,\n    noRouteDismiss: Boolean,\n    noRefocus: Boolean,\n    noFocus: Boolean,\n    seamless: Boolean,\n    maximized: Boolean,\n    fullWidth: Boolean,\n    fullHeight: Boolean,\n    square: Boolean,\n    position: {\n      type: String,\n      default: 'standard',\n      validator: function validator(val) {\n        return val === 'standard' || ['top', 'bottom', 'left', 'right'].includes(val);\n      }\n    },\n    transitionShow: String,\n    transitionHide: String\n  },\n  data: function data() {\n    return {\n      transitionState: this.showing\n    };\n  },\n  watch: {\n    showing: function showing(val) {\n      var _this = this;\n\n      if (this.transitionShowComputed !== this.transitionHideComputed) {\n        this.$nextTick(function () {\n          _this.transitionState = val;\n        });\n      }\n    },\n    maximized: function maximized(newV, oldV) {\n      if (this.showing === true) {\n        this.__updateState(false, oldV);\n\n        this.__updateState(true, newV);\n      }\n    },\n    useBackdrop: function useBackdrop(v) {\n      this.__preventScroll(v);\n\n      this.__preventFocusout(v);\n    }\n  },\n  computed: {\n    classes: function classes() {\n      return \"q-dialog__inner--\".concat(this.maximized === true ? 'maximized' : 'minimized', \" \") + \"q-dialog__inner--\".concat(this.position, \" \").concat(positionClass[this.position]) + (this.fullWidth === true ? ' q-dialog__inner--fullwidth' : '') + (this.fullHeight === true ? ' q-dialog__inner--fullheight' : '') + (this.square === true ? ' q-dialog__inner--square' : '');\n    },\n    transitionShowComputed: function transitionShowComputed() {\n      return 'q-transition--' + (this.transitionShow === void 0 ? transitions[this.position][0] : this.transitionShow);\n    },\n    transitionHideComputed: function transitionHideComputed() {\n      return 'q-transition--' + (this.transitionHide === void 0 ? transitions[this.position][1] : this.transitionHide);\n    },\n    transition: function transition() {\n      return this.transitionState === true ? this.transitionHideComputed : this.transitionShowComputed;\n    },\n    useBackdrop: function useBackdrop() {\n      return this.showing === true && this.seamless !== true;\n    },\n    hideOnRouteChange: function hideOnRouteChange() {\n      return this.persistent !== true && this.noRouteDismiss !== true && this.seamless !== true;\n    }\n  },\n  methods: {\n    focus: function focus() {\n      var node = this.__getInnerNode();\n\n      if (node === void 0 || node.contains(document.activeElement) === true) {\n        return;\n      }\n\n      node = node.querySelector('[autofocus]') || node;\n      node.focus();\n    },\n    shake: function shake() {\n      this.focus();\n\n      var node = this.__getInnerNode();\n\n      if (node !== void 0) {\n        node.classList.remove('q-animate--scale');\n        node.classList.add('q-animate--scale');\n        clearTimeout(this.shakeTimeout);\n        this.shakeTimeout = setTimeout(function () {\n          node.classList.remove('q-animate--scale');\n        }, 170);\n      }\n    },\n    __getInnerNode: function __getInnerNode() {\n      return this.__portal !== void 0 && this.__portal.$refs !== void 0 ? this.__portal.$refs.inner : void 0;\n    },\n    __show: function __show(evt) {\n      var _this2 = this;\n\n      this.__addHistory(); // IE can have null document.activeElement\n\n\n      this.__refocusTarget = this.noRefocus === false && document.activeElement !== null ? document.activeElement : void 0;\n      this.$el.dispatchEvent(create('popup-show', {\n        bubbles: true\n      }));\n\n      this.__updateState(true, this.maximized);\n\n      EscapeKey.register(this, function () {\n        if (_this2.seamless !== true) {\n          if (_this2.persistent === true || _this2.noEscDismiss === true) {\n            _this2.maximized !== true && _this2.shake();\n          } else {\n            _this2.$emit('escape-key');\n\n            _this2.hide();\n          }\n        }\n      });\n\n      this.__showPortal();\n\n      if (this.noFocus !== true) {\n        // IE can have null document.activeElement\n        document.activeElement !== null && document.activeElement.blur();\n\n        this.__nextTick(this.focus);\n      }\n\n      this.__setTimeout(function () {\n        _this2.$emit('show', evt);\n      }, 300);\n    },\n    __hide: function __hide(evt) {\n      var _this3 = this;\n\n      this.__removeHistory();\n\n      this.__cleanup(true); // check null for IE\n\n\n      if (this.__refocusTarget !== void 0 && this.__refocusTarget !== null) {\n        this.__refocusTarget.focus();\n      }\n\n      this.$el.dispatchEvent(create('popup-hide', {\n        bubbles: true\n      }));\n\n      this.__setTimeout(function () {\n        _this3.__hidePortal();\n\n        _this3.$emit('hide', evt);\n      }, 300);\n    },\n    __cleanup: function __cleanup(hiding) {\n      clearTimeout(this.shakeTimeout);\n\n      if (hiding === true || this.showing === true) {\n        EscapeKey.pop(this);\n\n        this.__updateState(false, this.maximized);\n\n        if (this.useBackdrop === true) {\n          this.__preventScroll(false);\n\n          this.__preventFocusout(false);\n        }\n      }\n    },\n    __updateState: function __updateState(opening, maximized) {\n      if (maximized === true) {\n        if (opening === true) {\n          maximizedModals < 1 && document.body.classList.add('q-body--dialog');\n        } else if (maximizedModals < 2) {\n          document.body.classList.remove('q-body--dialog');\n        }\n\n        maximizedModals += opening === true ? 1 : -1;\n      }\n    },\n    __preventFocusout: function __preventFocusout(state) {\n      if (this.$q.platform.is.desktop === true) {\n        var action = \"\".concat(state === true ? 'add' : 'remove', \"EventListener\");\n        document.body[action]('focusin', this.__onFocusChange);\n      }\n    },\n    __onAutoClose: function __onAutoClose(e) {\n      this.hide(e);\n      this.$listeners.click !== void 0 && this.$emit('click', e);\n    },\n    __onBackdropClick: function __onBackdropClick(e) {\n      if (this.persistent !== true && this.noBackdropDismiss !== true) {\n        this.hide(e);\n      } else {\n        this.shake();\n      }\n    },\n    __onFocusChange: function __onFocusChange(e) {\n      // the focus is not in a vue child component\n      if (this.showing === true && this.__portal !== void 0 && childHasFocus(this.__portal.$el, e.target) !== true) {\n        this.focus();\n      }\n    },\n    __renderPortal: function __renderPortal(h) {\n      var on = _objectSpread({}, this.$listeners, {\n        // stop propagating this events from children\n        input: stop,\n        'popup-show': stop,\n        'popup-hide': stop\n      });\n\n      if (this.autoClose === true) {\n        on.click = this.__onAutoClose;\n      }\n\n      return h('div', {\n        staticClass: 'q-dialog fullscreen no-pointer-events',\n        class: this.contentClass,\n        style: this.contentStyle,\n        attrs: this.$attrs\n      }, [h('transition', {\n        props: {\n          name: 'q-transition--fade'\n        }\n      }, this.useBackdrop === true ? [h('div', {\n        staticClass: 'q-dialog__backdrop fixed-full',\n        on: {\n          touchmove: stopAndPrevent,\n          // prevent iOS page scroll\n          click: this.__onBackdropClick\n        }\n      })] : null), h('transition', {\n        props: {\n          name: this.transition\n        }\n      }, [this.showing === true ? h('div', {\n        ref: 'inner',\n        staticClass: 'q-dialog__inner flex no-pointer-events',\n        class: this.classes,\n        attrs: {\n          tabindex: -1\n        },\n        on: on\n      }, slot(this, 'default')) : null])]);\n    }\n  },\n  mounted: function mounted() {\n    this.__processModelChange(this.value);\n  },\n  beforeDestroy: function beforeDestroy() {\n    this.__cleanup();\n  }\n});",{"version":3,"sources":["/home/witalo/go/src/github.com/witalok2/application/frontend/node_modules/quasar/src/components/dialog/QDialog.js"],"names":["Vue","HistoryMixin","ModelToggleMixin","PortalMixin","PreventScrollMixin","childHasFocus","EscapeKey","slot","create","stop","stopAndPrevent","maximizedModals","positionClass","standard","top","bottom","right","left","transitions","extend","name","mixins","props","persistent","Boolean","autoClose","noEscDismiss","noBackdropDismiss","noRouteDismiss","noRefocus","noFocus","seamless","maximized","fullWidth","fullHeight","square","position","type","String","default","validator","val","includes","transitionShow","transitionHide","data","transitionState","showing","watch","transitionShowComputed","transitionHideComputed","$nextTick","newV","oldV","__updateState","useBackdrop","v","__preventScroll","__preventFocusout","computed","classes","transition","hideOnRouteChange","methods","focus","node","__getInnerNode","contains","document","activeElement","querySelector","shake","classList","remove","add","clearTimeout","shakeTimeout","setTimeout","__portal","$refs","inner","__show","evt","__addHistory","__refocusTarget","$el","dispatchEvent","bubbles","register","$emit","hide","__showPortal","blur","__nextTick","__setTimeout","__hide","__removeHistory","__cleanup","__hidePortal","hiding","pop","opening","body","state","$q","platform","is","desktop","action","__onFocusChange","__onAutoClose","e","$listeners","click","__onBackdropClick","target","__renderPortal","h","on","input","staticClass","class","contentClass","style","contentStyle","attrs","$attrs","touchmove","ref","tabindex","mounted","__processModelChange","value","beforeDestroy"],"mappings":"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","sourcesContent":["import Vue from 'vue'\n\nimport HistoryMixin from '../../mixins/history.js'\nimport ModelToggleMixin from '../../mixins/model-toggle.js'\nimport PortalMixin from '../../mixins/portal.js'\nimport PreventScrollMixin from '../../mixins/prevent-scroll.js'\n\nimport { childHasFocus } from '../../utils/dom.js'\nimport EscapeKey from '../../utils/escape-key.js'\nimport slot from '../../utils/slot.js'\nimport { create, stop, stopAndPrevent } from '../../utils/event.js'\n\nlet maximizedModals = 0\n\nconst positionClass = {\n  standard: 'fixed-full flex-center',\n  top: 'fixed-top justify-center',\n  bottom: 'fixed-bottom justify-center',\n  right: 'fixed-right items-center',\n  left: 'fixed-left items-center'\n}\n\nconst transitions = {\n  standard: ['scale', 'scale'],\n  top: ['slide-down', 'slide-up'],\n  bottom: ['slide-up', 'slide-down'],\n  right: ['slide-left', 'slide-right'],\n  left: ['slide-right', 'slide-left']\n}\n\nexport default Vue.extend({\n  name: 'QDialog',\n\n  mixins: [ HistoryMixin, ModelToggleMixin, PortalMixin, PreventScrollMixin ],\n\n  props: {\n    persistent: Boolean,\n    autoClose: Boolean,\n\n    noEscDismiss: Boolean,\n    noBackdropDismiss: Boolean,\n    noRouteDismiss: Boolean,\n    noRefocus: Boolean,\n    noFocus: Boolean,\n\n    seamless: Boolean,\n\n    maximized: Boolean,\n    fullWidth: Boolean,\n    fullHeight: Boolean,\n\n    square: Boolean,\n\n    position: {\n      type: String,\n      default: 'standard',\n      validator (val) {\n        return val === 'standard' || ['top', 'bottom', 'left', 'right'].includes(val)\n      }\n    },\n\n    transitionShow: String,\n    transitionHide: String\n  },\n\n  data () {\n    return {\n      transitionState: this.showing\n    }\n  },\n\n  watch: {\n    showing (val) {\n      if (this.transitionShowComputed !== this.transitionHideComputed) {\n        this.$nextTick(() => {\n          this.transitionState = val\n        })\n      }\n    },\n\n    maximized (newV, oldV) {\n      if (this.showing === true) {\n        this.__updateState(false, oldV)\n        this.__updateState(true, newV)\n      }\n    },\n\n    useBackdrop (v) {\n      this.__preventScroll(v)\n      this.__preventFocusout(v)\n    }\n  },\n\n  computed: {\n    classes () {\n      return `q-dialog__inner--${this.maximized === true ? 'maximized' : 'minimized'} ` +\n        `q-dialog__inner--${this.position} ${positionClass[this.position]}` +\n        (this.fullWidth === true ? ' q-dialog__inner--fullwidth' : '') +\n        (this.fullHeight === true ? ' q-dialog__inner--fullheight' : '') +\n        (this.square === true ? ' q-dialog__inner--square' : '')\n    },\n\n    transitionShowComputed () {\n      return 'q-transition--' + (this.transitionShow === void 0 ? transitions[this.position][0] : this.transitionShow)\n    },\n\n    transitionHideComputed () {\n      return 'q-transition--' + (this.transitionHide === void 0 ? transitions[this.position][1] : this.transitionHide)\n    },\n\n    transition () {\n      return this.transitionState === true\n        ? this.transitionHideComputed\n        : this.transitionShowComputed\n    },\n\n    useBackdrop () {\n      return this.showing === true && this.seamless !== true\n    },\n\n    hideOnRouteChange () {\n      return this.persistent !== true &&\n        this.noRouteDismiss !== true &&\n        this.seamless !== true\n    }\n  },\n\n  methods: {\n    focus () {\n      let node = this.__getInnerNode()\n\n      if (node === void 0 || node.contains(document.activeElement) === true) {\n        return\n      }\n\n      node = node.querySelector('[autofocus]') || node\n      node.focus()\n    },\n\n    shake () {\n      this.focus()\n\n      const node = this.__getInnerNode()\n\n      if (node !== void 0) {\n        node.classList.remove('q-animate--scale')\n        node.classList.add('q-animate--scale')\n        clearTimeout(this.shakeTimeout)\n        this.shakeTimeout = setTimeout(() => {\n          node.classList.remove('q-animate--scale')\n        }, 170)\n      }\n    },\n\n    __getInnerNode () {\n      return this.__portal !== void 0 && this.__portal.$refs !== void 0\n        ? this.__portal.$refs.inner\n        : void 0\n    },\n\n    __show (evt) {\n      this.__addHistory()\n\n      // IE can have null document.activeElement\n      this.__refocusTarget = this.noRefocus === false && document.activeElement !== null\n        ? document.activeElement\n        : void 0\n\n      this.$el.dispatchEvent(create('popup-show', { bubbles: true }))\n\n      this.__updateState(true, this.maximized)\n\n      EscapeKey.register(this, () => {\n        if (this.seamless !== true) {\n          if (this.persistent === true || this.noEscDismiss === true) {\n            this.maximized !== true && this.shake()\n          }\n          else {\n            this.$emit('escape-key')\n            this.hide()\n          }\n        }\n      })\n\n      this.__showPortal()\n\n      if (this.noFocus !== true) {\n        // IE can have null document.activeElement\n        document.activeElement !== null && document.activeElement.blur()\n        this.__nextTick(this.focus)\n      }\n\n      this.__setTimeout(() => {\n        this.$emit('show', evt)\n      }, 300)\n    },\n\n    __hide (evt) {\n      this.__removeHistory()\n      this.__cleanup(true)\n\n      // check null for IE\n      if (this.__refocusTarget !== void 0 && this.__refocusTarget !== null) {\n        this.__refocusTarget.focus()\n      }\n\n      this.$el.dispatchEvent(create('popup-hide', { bubbles: true }))\n\n      this.__setTimeout(() => {\n        this.__hidePortal()\n        this.$emit('hide', evt)\n      }, 300)\n    },\n\n    __cleanup (hiding) {\n      clearTimeout(this.shakeTimeout)\n\n      if (hiding === true || this.showing === true) {\n        EscapeKey.pop(this)\n        this.__updateState(false, this.maximized)\n        if (this.useBackdrop === true) {\n          this.__preventScroll(false)\n          this.__preventFocusout(false)\n        }\n      }\n    },\n\n    __updateState (opening, maximized) {\n      if (maximized === true) {\n        if (opening === true) {\n          maximizedModals < 1 && document.body.classList.add('q-body--dialog')\n        }\n        else if (maximizedModals < 2) {\n          document.body.classList.remove('q-body--dialog')\n        }\n        maximizedModals += opening === true ? 1 : -1\n      }\n    },\n\n    __preventFocusout (state) {\n      if (this.$q.platform.is.desktop === true) {\n        const action = `${state === true ? 'add' : 'remove'}EventListener`\n        document.body[action]('focusin', this.__onFocusChange)\n      }\n    },\n\n    __onAutoClose (e) {\n      this.hide(e)\n      this.$listeners.click !== void 0 && this.$emit('click', e)\n    },\n\n    __onBackdropClick (e) {\n      if (this.persistent !== true && this.noBackdropDismiss !== true) {\n        this.hide(e)\n      }\n      else {\n        this.shake()\n      }\n    },\n\n    __onFocusChange (e) {\n      // the focus is not in a vue child component\n      if (\n        this.showing === true &&\n        this.__portal !== void 0 &&\n        childHasFocus(this.__portal.$el, e.target) !== true\n      ) {\n        this.focus()\n      }\n    },\n\n    __renderPortal (h) {\n      const on = {\n        ...this.$listeners,\n        // stop propagating this events from children\n        input: stop,\n        'popup-show': stop,\n        'popup-hide': stop\n      }\n\n      if (this.autoClose === true) {\n        on.click = this.__onAutoClose\n      }\n\n      return h('div', {\n        staticClass: 'q-dialog fullscreen no-pointer-events',\n        class: this.contentClass,\n        style: this.contentStyle,\n        attrs: this.$attrs\n      }, [\n        h('transition', {\n          props: { name: 'q-transition--fade' }\n        }, this.useBackdrop === true ? [\n          h('div', {\n            staticClass: 'q-dialog__backdrop fixed-full',\n            on: {\n              touchmove: stopAndPrevent, // prevent iOS page scroll\n              click: this.__onBackdropClick\n            }\n          })\n        ] : null),\n\n        h('transition', {\n          props: { name: this.transition }\n        }, [\n          this.showing === true ? h('div', {\n            ref: 'inner',\n            staticClass: 'q-dialog__inner flex no-pointer-events',\n            class: this.classes,\n            attrs: { tabindex: -1 },\n            on\n          }, slot(this, 'default')) : null\n        ])\n      ])\n    }\n  },\n\n  mounted () {\n    this.__processModelChange(this.value)\n  },\n\n  beforeDestroy () {\n    this.__cleanup()\n  }\n})\n"]}]}